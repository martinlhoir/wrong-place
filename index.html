<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>French Word Quiz</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background: linear-gradient(90deg, black 33%, gold 33%, gold 66%, red 66%);
    margin:0; padding:0;
    display:flex; justify-content:center; align-items:center;
    height:100vh;
    overflow:hidden;
  }
  #game-container {
    background:white;
    padding:30px;
    border-radius:20px;
    max-width:600px;
    width:90%;
    text-align:center;
    box-shadow: 0 0 20px rgba(0,0,0,0.4);
    z-index:2;
    position:relative;
  }
  h1 { color:#b91c1c; margin-bottom:10px; }
  p { margin:10px 0; }
  button {
    padding:12px 25px;
    margin:10px;
    border:none;
    border-radius:12px;
    cursor:pointer;
    font-size:16px;
    transition: transform 0.2s, background 0.2s;
  }
  button:hover { transform: scale(1.05); }
  #start-btn, #restart-btn { background:#b91c1c; color:white; }
  #start-btn:hover, #restart-btn:hover { background:#7f1d1d; }
  .choice-btn {
    display:block;
    width:80%;
    margin:10px auto;
    background:#facc15;
    color:black;
    font-weight:bold;
  }
  .choice-btn:hover { background:#eab308; }
  #message { font-weight:bold; font-size:18px; margin-top:10px; transition: opacity 0.5s; }
  .fade-in { animation: fadeIn 0.5s; }
  @keyframes fadeIn { from {opacity:0;} to {opacity:1;} }
  /* Confetti canvas */
  #confetti-canvas {
    position: fixed;
    top:0; left:0;
    width:100%; height:100%;
    pointer-events:none;
    z-index:1;
  }
</style>
</head>
<body>

<canvas id="confetti-canvas"></canvas>

<div id="game-container">
  <div id="start-screen">
    <h1>French Word Quiz</h1>
    <p>Guess the meaning of rare French words. Try to get the highest score!</p>
    <button id="start-btn">Start Game</button>
  </div>

  <div id="quiz-screen" style="display:none;">
    <h1 id="word" class="fade-in"></h1>
    <div id="choices"></div>
    <p id="score"></p>
    <p id="message"></p>
  </div>

  <div id="end-screen" style="display:none;">
    <h1 id="end-title"></h1>
    <p id="final-score"></p>
    <p id="final-message"></p>
    <button id="restart-btn">Play Again</button>
  </div>
</div>

<script>
// === QUESTIONS ===
const motsRares = [
  { mot: "Escarboucle", choix: ["Precious stone", "Carpentry tool", "Water bird"], reponse: "Precious stone" },
  { mot: "Chalemie", choix: ["Medieval wind instrument", "Poisonous plant", "Part of a ship"], reponse: "Medieval wind instrument" },
  { mot: "Obombrer", choix: ["To darken with a shadow", "To cover with paint", "To reduce to dust"], reponse: "To darken with a shadow" },
  { mot: "Sybarite", choix: ["Person who loves luxury", "Small nocturnal mammal", "Ancient blacksmith trade"], reponse: "Person who loves luxury" },
  { mot: "RaisinÃ©", choix: ["Grape jam", "Volcanic rock", "Religious chant"], reponse: "Grape jam" },
  { mot: "Amphigouri", choix: ["Obscure speech", "Ancient clothing", "Old currency"], reponse: "Obscure speech" },
  { mot: "Lambrequin", choix: ["Drapery ornament", "Musical instrument", "Climbing plant"], reponse: "Drapery ornament" },
  { mot: "PÃ©roraison", choix: ["Conclusion of a speech", "Agricultural tool", "Religious ritual"], reponse: "Conclusion of a speech" },
  { mot: "Luzerne", choix: ["Forage plant", "Precious stone", "Type of ship"], reponse: "Forage plant" },
  { mot: "Mirliton", choix: ["Small musical instrument", "Bird", "Ancient pastry"], reponse: "Small musical instrument" },
  { mot: "Alcarazas", choix: ["Large ceramic jar", "Ancient helmet", "Old currency"], reponse: "Large ceramic jar" },
  { mot: "BoustrophÃ©don", choix: ["Ancient writing style", "Musical instrument", "Type of sword"], reponse: "Ancient writing style" },
  { mot: "Cacochyme", choix: ["Weak or sickly person", "Rare mineral", "Old clothing"], reponse: "Weak or sickly person" },
  { mot: "Didascalie", choix: ["Stage direction", "Type of food", "Mathematical term"], reponse: "Stage direction" },
  { mot: "EburnÃ©en", choix: ["Ivory-colored", "Poisonous plant", "Small bird"], reponse: "Ivory-colored" },
  { mot: "Farfelu", choix: ["Crazy or odd", "Precious stone", "Type of boat"], reponse: "Crazy or odd" },
  { mot: "Gabelle", choix: ["Salt tax", "Ancient weapon", "Musical note"], reponse: "Salt tax" },
  { mot: "Histrion", choix: ["Actor or performer", "Rare coin", "Type of fruit"], reponse: "Actor or performer" },
  { mot: "InÃ©narrable", choix: ["Indescribable", "Old ship", "Rare book"], reponse: "Indescribable" },
  { mot: "Jocrisse", choix: ["Foolish person", "Ancient hat", "Type of tree"], reponse: "Foolish person" },
  { mot: "Kermesse", choix: ["Village fair", "Type of drum", "Old coin"], reponse: "Village fair" },
  { mot: "Limonadier", choix: ["Lemon seller", "Ancient ruler", "Stage equipment"], reponse: "Lemon seller" },
  { mot: "Mandibule", choix: ["Jawbone", "Tool", "Type of hat"], reponse: "Jawbone" },
  { mot: "Nitescence", choix: ["Brightness", "Ancient path", "Rare gemstone"], reponse: "Brightness" },
  { mot: "ObnubilÃ©", choix: ["Obscured", "Rare instrument", "Old letter"], reponse: "Obscured" },
  { mot: "Pusillanime", choix: ["Cowardly", "Small tool", "Rare bird"], reponse: "Cowardly" },
  { mot: "Quidam", choix: ["Someone", "Ancient coin", "Type of fish"], reponse: "Someone" },
  { mot: "Ratiociner", choix: ["To reason", "Old book", "Ancient clothing"], reponse: "To reason" },
  { mot: "SÃ©same", choix: ["Sesame", "Rare stone", "Ancient weapon"], reponse: "Sesame" },
  { mot: "Tautologie", choix: ["Redundant expression", "Mathematical term", "Old ritual"], reponse: "Redundant expression" },
  { mot: "UbiquitÃ©", choix: ["Ubiquity", "Rare bird", "Ancient path"], reponse: "Ubiquity" },
  { mot: "VellÃ©itaire", choix: ["Indecisive", "Small coin", "Old tool"], reponse: "Indecisive" },
  { mot: "Wassingue", choix: ["Mop", "Ancient tool", "Rare plant"], reponse: "Mop" },
  { mot: "Xylographie", choix: ["Wood engraving", "Ancient map", "Rare jewel"], reponse: "Wood engraving" },
  { mot: "YpÃ©rite", choix: ["Mustard gas", "Old book", "Rare flower"], reponse: "Mustard gas" },
  { mot: "ZÃ©lateur", choix: ["Zealot", "Small tool", "Ancient coin"], reponse: "Zealot" },
  { mot: "Aboulie", choix: ["Lack of willpower", "Ancient ship", "Type of hat"], reponse: "Lack of willpower" },
  { mot: "Boustifaille", choix: ["Hearty meal", "Ancient currency", "Rare plant"], reponse: "Hearty meal" },
  { mot: "Cymbalum", choix: ["Percussion instrument", "Rare bird", "Type of robe"], reponse: "Percussion instrument" },
  { mot: "DÃ©gingandÃ©", choix: ["Awkwardly tall", "Rare gemstone", "Ancient tool"], reponse: "Awkwardly tall" },
  { mot: "Ã‰chauguette", choix: ["Watchtower", "Religious object", "Ancient coin"], reponse: "Watchtower" },
  { mot: "Flibustier", choix: ["Pirate", "Ancient bread", "Rare metal"], reponse: "Pirate" },
  { mot: "Galimatias", choix: ["Confused speech", "Ancient ritual", "Rare fish"], reponse: "Confused speech" },
  { mot: "Haridelle", choix: ["Old horse", "Type of cart", "Ancient clothing"], reponse: "Old horse" },
  { mot: "Imbroglio", choix: ["Complicated situation", "Ancient path", "Rare jewel"], reponse: "Complicated situation" },
  { mot: "JÃ©rÃ©miade", choix: ["Complaint", "Ancient tool", "Rare fruit"], reponse: "Complaint" },
  { mot: "Lacis", choix: ["Network of paths", "Ancient drum", "Rare spice"], reponse: "Network of paths" },
  { mot: "Madrigal", choix: ["Short poem", "Rare jewel", "Ancient robe"], reponse: "Short poem" },
  { mot: "Nabab", choix: ["Wealthy person", "Ancient boat", "Rare plant"], reponse: "Wealthy person" },
  { mot: "Olibrius", choix: ["Odd person", "Ancient hat", "Rare fish"], reponse: "Odd person" },
  { mot: "Palindrome", choix: ["Word same backward", "Ancient map", "Rare stone"], reponse: "Word same backward" },
  { mot: "Quolibet", choix: ["Witty remark", "Ancient clothing", "Rare tree"], reponse: "Witty remark" },
  { mot: "Rocambolesque", choix: ["Fantastic", "Ancient ship", "Rare food"], reponse: "Fantastic" },
  { mot: "Sardanapale", choix: ["Luxurious person", "Ancient weapon", "Rare ritual"], reponse: "Luxurious person" },
  { mot: "Tintamarre", choix: ["Loud noise", "Ancient coin", "Rare plant"], reponse: "Loud noise" },
  { mot: "UlcÃ©ration", choix: ["Wound", "Ancient robe", "Rare bird"], reponse: "Wound" },
  { mot: "Vaticination", choix: ["Prophecy", "Ancient weapon", "Rare jewel"], reponse: "Prophecy" },
  { mot: "Zigomar", choix: ["Mischievous person", "Ancient tax", "Rare plant"], reponse: "Mischievous person" }
];

// === BLAGUE VOLONTAIRE ===
const motsBlagues = [
  { mot: "Bite", choix: ["Hello", "Harmonica", "Branch"], reponse: "Hello" }
];

let quizQuestions = [];
let currentIndex = 0;
let score = 0;

function shuffleArray(array) {
  return array.sort(() => Math.random() - 0.5);
}

function startGame() {
  // On prend d'abord 10 questions normales
  quizQuestions = shuffleArray(motsRares).slice(0, 10);

  // ðŸŽ² 1 chance sur 3 de remplacer une question par la blague
  if (Math.random() < 1/3) {
    const blague = motsBlagues[Math.floor(Math.random() * motsBlagues.length)];
    const randomIndex = Math.floor(Math.random() * quizQuestions.length);
    quizQuestions[randomIndex] = blague;
  }

  quizQuestions = shuffleArray(quizQuestions);

  currentIndex = 0;
  score = 0;

  document.getElementById("start-screen").style.display = "none";
  document.getElementById("end-screen").style.display = "none";
  document.getElementById("quiz-screen").style.display = "block";
  showQuestion();
}

function showQuestion() {
  const q = quizQuestions[currentIndex];
  const wordElem = document.getElementById("word");
  wordElem.textContent = q.mot;
  wordElem.classList.remove("fade-in");
  void wordElem.offsetWidth;
  wordElem.classList.add("fade-in");

  const choicesDiv = document.getElementById("choices");
  choicesDiv.innerHTML = "";
  shuffleArray(q.choix).forEach(choice => {
    const btn = document.createElement("button");
    btn.textContent = choice;
    btn.className = "choice-btn fade-in";
    btn.onclick = () => checkAnswer(choice);
    choicesDiv.appendChild(btn);
  });

  document.getElementById("score").textContent = `Score: ${score} / ${currentIndex}`;
  document.getElementById("message").textContent = "";
}

function checkAnswer(choice) {
  const q = quizQuestions[currentIndex];
  if (choice === q.reponse) score++;
  document.getElementById("message").textContent = choice === q.reponse ? "âœ… Correct answer!" : "âŒ Wrong answer!";
  currentIndex++;
  setTimeout(() => {
    if (currentIndex < 10) showQuestion();
    else endGame();
  }, 1000);
}

function endGame() {
  document.getElementById("quiz-screen").style.display = "none";
  document.getElementById("end-screen").style.display = "block";

  if (score <= 4) {
    document.getElementById("end-title").textContent = "Game Over";
  } else {
    document.getElementById("end-title").textContent = "Welcome in Belgium";
  }

  document.getElementById("final-score").textContent = `Your final score: ${score} / 10`;

  let msg = "";
  if (score < 5) msg = "Too bad, maybe another time";
  else if (score < 10) msg = "Well done, but not excellent";
  else msg = "Just too strong!";
  document.getElementById("final-message").textContent = msg;

  launchConfetti();
}

// === CONFETTI ===
function launchConfetti() {
  const canvas = document.getElementById("confetti-canvas");
  const ctx = canvas.getContext("2d");
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;

  const confettis = [];
  const colors = ["#000000", "#FFD700", "#FF0000"];

  for (let i = 0; i < 150; i++) {
    confettis.push({
      x: Math.random() * canvas.width,
      y: Math.random() * canvas.height - canvas.height,
      r: Math.random() * 6 + 4,
      d: Math.random() * 0.5 + 0.5,
      color: colors[Math.floor(Math.random() * colors.length)],
      tilt: Math.random() * 10 - 10
    });
  }

  function drawConfetti() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    confettis.forEach(c => {
      ctx.beginPath();
      ctx.fillStyle = c.color;
      ctx.arc(c.x, c.y, c.r, 0, Math.PI * 2, true);
      ctx.fill();
    });
    updateConfetti();
  }

  function updateConfetti() {
    confettis.forEach(c => {
      c.y += c.d * 4;
      if (c.y > canvas.height) {
        c.y = -10;
        c.x = Math.random() * canvas.width;
      }
    });
  }

  setInterval(drawConfetti, 20);
}

document.getElementById("start-btn").onclick = startGame;
document.getElementById("restart-btn").onclick = startGame;
</script>

</body>
</html>
